
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Operating Systems Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-mermaid-full/mermaid.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-prism/prism.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-disqus/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="http.html" />
    
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    Introduction
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.1" data-path="../../CONTRIBUTING.html">
            
                <a href="../../CONTRIBUTING.html">
            
                    
                    Contributing Guideline
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2" >
            
                <span>
            
                    
                    Core Modules
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" >
            
                <span>
            
                    
                    Infrastructure
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="1.2.1.1" data-path="operating-systems.html">
            
                <a href="operating-systems.html">
            
                    
                    Operating Systems
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.2" data-path="http.html">
            
                <a href="http.html">
            
                    
                    HTTP
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.2" >
            
                <span>
            
                    
                    Web Development
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.2.1" data-path="../web-development/api.html">
            
                <a href="../web-development/api.html">
            
                    
                    API Design
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.2" data-path="../web-development/html.html">
            
                <a href="../web-development/html.html">
            
                    
                    HTML
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.3" data-path="../web-development/css.html">
            
                <a href="../web-development/css.html">
            
                    
                    CSS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.4" data-path="../web-development/web-accessibility.html">
            
                <a href="../web-development/web-accessibility.html">
            
                    
                    Web Accessibility
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.5" >
            
                <span>
            
                    
                    Javascript
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.2.5.1" data-path="../web-development/javascript/features.html">
            
                <a href="../web-development/javascript/features.html">
            
                    
                    Features
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.5.2" data-path="../web-development/javascript/async.html">
            
                <a href="../web-development/javascript/async.html">
            
                    
                    Async
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.5.3" data-path="../web-development/javascript/runtime.html">
            
                <a href="../web-development/javascript/runtime.html">
            
                    
                    Engine/Runtime
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.3" >
            
                <span>
            
                    
                    Best Practices
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.3.1" data-path="../best-practices/solid.html">
            
                <a href="../best-practices/solid.html">
            
                    
                    SOLID Principles
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.2" data-path="../best-practices/deployment.html">
            
                <a href="../best-practices/deployment.html">
            
                    
                    Deployment
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >Operating Systems</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="operating-systems">Operating Systems</h1>
<p>Author: Paul DeCarlo (<a href="https://twitter.com/pjdecarlo" target="_blank">@pjdecarlo</a>)</p>
<h2 id="what-is-an-operating-system">What is an Operating System</h2>
<ul>
<li>Software that supports a computer&apos;s basic functions, such as scheduling tasks, executing applications, and controlling peripherals.</li>
<li>Provides management of the computer hardware and resources (memory, cpu, hard disk) in a consistent way. </li>
</ul>
<p>The first property gives us the ability to supervise multiple applications on a single computer system.</p>
<p>The second property ensures that we can run an operating system on a variety of computer systems with various different hardware configurations.  </p>
<p>Computers can run software without an OS, but it would require programming every necessary aspect of the system to tell it exactly what to do and would probably end up with something that looks like an OS after a proper refactoring.   See: <a href="http://www.templeos.org/" target="_blank">TempleOS</a> &lt; <em>100,000 lines of code!</em></p>
<h2 id="the-kernel">The Kernel</h2>
<ul>
<li>The Core of the OS, i.e. the low-level portion of the OS that actually interfaces with hardware, memory, CPU, devices etc.</li>
</ul>
<p>To know the kernel is to understand the essence of the OS.  Imagine a hidden away API that is responsible for your computer being able to ultimately do anything at all with any and all of it&#x2019;s devices and peripherals.</p>
<p>As such, it is typically secured away from the user by design both to satisfy fault tolerance and malicious use.  This is accomplished via protection rings.</p>
<p><img src="../../images/os/ring.png" alt="Security Rings"></p>
<h3 id="dissection-of-the-linux-kernel">Dissection of the Linux Kernel</h3>
<p><img src="../../images/os/kernelmap.png" alt="Linux Kernel Map"></p>
<h3 id="dissection-of-the-windows-kernel">Dissection of the Windows Kernel</h3>
<pre class="language-"><code>cache\  - cache manager

config\ - registry implementation

dbgk\   - user-mode debugger support

ex\     - executive functions (kernel heap, synchronization, time)

fsrtl\  - file system run-time support

io\     - I/O manager

ke\     - scheduler, CPU management, low-level synchronization

lpc\    - local procedure call implementation

mm\     - virtual memory manager

ob\     - kernel object manager

ps\     - process/thread support

se\     - security functions

wmi\    - Windows Management Instrumentation

inc\    - NTOS-only include files

rtl\    - kernel run-time support

init\   - kernel startup
</code></pre><h2 id="types-of-kernels">Types of Kernels</h2>
<p>So far, we have mentioned Linux and Windows Kernels.  What are some differences between them?</p>
<ul>
<li>Linux employs a <em>monolithic</em> kernel  A single program that contains all of the code necessary to perform every kernel related task with the ability to extend via modules (LMK&#x2019;s).  The mechanism allows for loading and reloading of modules into kernel space without need to reboot a running kernel.</li>
<li>Windows /macOS employ a <em>Hybrid</em> or <em>Modular</em> kernel.  In contrast to a <em>microkernel</em>, which runs certain portions of services in userspace instead of entirely in kernel space as is the case with monolithic kernels.  Hybrid kernels are a combination of the two concepts with some services running in userspace (device drivers) and others in kernel space (network stack, filesystem).</li>
</ul>
<h2 id="syscalls">Syscalls</h2>
<ul>
<li>Provide an interface between a process and the operating system.  They are typically available as assembly level instructions.  </li>
<li>Allow for userspace programs to interact with the kernel.</li>
</ul>
<p><a href="http://blog.rchapman.org/posts/Linux_System_Call_Table_for_x86_64/" target="_blank">Linux Syscalls</a> </p>
<p><img src="../../images/os/linuxsyscalls.png" alt="Linux Syscalls"></p>
<p><a href="http://j00ru.vexillium.org/ntapi_64/" target="_blank">Windows Syscalls</a></p>
<p><img src="../../images/os/windowssyscalls.png" alt="Windows Syscalls"></p>
<p><em>Translating native Linux Syscalls to equivalent Windows Syscalls is how the Windows Subsystem for Linux allows of execution of Linux targeted binaries in Windows 10.</em></p>
<h3 id="common-inspection-tools">Common Inspection Tools</h3>
<ul>
<li><a href="https://developer.microsoft.com/en-us/windows/hardware/download-windbg" target="_blank">Windbg</a></li>
<li><a href="http://dirac.org/linux/gdb/" target="_blank">gdb</a></li>
<li><a href="https://en.wikipedia.org/wiki/Strace" target="_blank">strace</a></li>
</ul>
<h2 id="processes-and-threads">Processes and Threads</h2>
<ul>
<li>Processes (single or multi-threaded) run in separate memory spaces </li>
<li>Threads (of the same process) run in shared memory space</li>
</ul>
<p><img src="../../images/os/processes.png" alt="Processes"></p>
<p>Good examples of multi-threaded applications include anything that serves concurrent requests to multiple clients i.e. web and database servers</p>
<h3 id="methods-for-viewing-running-processes">Methods for viewing running processes</h3>
<ul>
<li>Windows<ul>
<li>Task Manager - (CTRL+SHFT+ESC)</li>
<li><a href="https://ss64.com/nt/tasklist.html" target="_blank">tasklist</a> (cmd)</li>
<li><a href="https://technet.microsoft.com/library/ee176855.aspx" target="_blank">Get-Process</a> (PowerShell)</li>
</ul>
</li>
<li>Linux<ul>
<li><a href="https://linux.die.net/man/1/ps" target="_blank">ps</a> aux</li>
<li><a href="https://linux.die.net/man/1/top" target="_blank">top</a></li>
</ul>
</li>
</ul>
<h2 id="virtual-machines---types">Virtual Machines - Types</h2>
<h3 id="full">Full</h3>
<ul>
<li>Parallels</li>
<li>VMWare ESX</li>
<li>VirtualBox</li>
</ul>
<h3 id="hardware-assisted">Hardware-Assisted</h3>
<ul>
<li>VMWare Workstation</li>
<li>Linux KVM</li>
<li>Hyper-V</li>
</ul>
<h3 id="os-level">OS-Level</h3>
<ul>
<li>Virtuozzo - Precursor to Docker</li>
<li>Chroot Jails - Concept from BSD, restricts travel outside the chroot jail path</li>
<li>Docker - Achieved using &quot;containers&quot;: multiple isolated user-space instances which share resources provided by a common kernel</li>
</ul>
<h2 id="technial-challenge">Technial Challenge</h2>
<ul>
<li>Compile a Windows Based Kernel</li>
<li>Make modifications to a Windows Based Syscall</li>
<li>Load your modified kernel into a Windows Instance running in a virtualized environment and verify your changes at runtime</li>
<li>Demonstrate translation of a Linux Syscall to a Windows Syscall  (hint: some are pretty much 1 to 1)</li>
</ul>
<h3 id="link-to-technical-challenge"><a href="https://github.com/toolboc/Windows-Research-Kernel-Hacking" target="_blank">Link to Technical Challenge</a></h3>
 <link rel="stylesheet" type="text/css" href="https://storage.googleapis.com/app.klipse.tech/css/codemirror.css"> <script>     window.klipse_settings = {         selector: ".language-klipse, .lang-eval-clojure",         selector_eval_js: ".lang-eval-js",         selector_eval_python_client: ".lang-eval-python",         selector_eval_php: ".lang-eval-php",         selector_eval_scheme: ".lang-eval-scheme",         selector_eval_ruby: ".lang-eval-ruby",         selector_reagent: ".lang-reagent",        selector_google_charts: ".lang-google-chart",        selector_es2017: ".lang-eval-es2017",        selector_jsx: ".lang-eval-jsx",        selector_transpile_jsx: ".lang-transpile-jsx",        selector_render_jsx: ".lang-render-jsx",        selector_react: ".lang-react",        selector_eval_markdown: ".lang-render-markdown",        selector_eval_lambdaway: ".lang-render-lambdaway",        selector_eval_cpp: ".lang-eval-cpp",        selector_eval_html: ".lang-render-html",        selector_sql: ".lang-eval-sql",        selector_brainfuck: "lang-eval-brainfuck",        selector_js: ".lang-transpile-cljs"    }; </script> <script src="https://storage.googleapis.com/app.klipse.tech/plugin/js/klipse_plugin.js"></script>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                
                <a href="http.html" class="navigation navigation-next navigation-unique" aria-label="Next page: HTTP">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Operating Systems","level":"1.2.1.1","depth":3,"next":{"title":"HTTP","level":"1.2.1.2","depth":3,"path":"modules/infrastructure/http.md","ref":"modules/infrastructure/http.md","articles":[]},"previous":{"title":"Infrastructure","level":"1.2.1","depth":2,"ref":"","articles":[{"title":"Operating Systems","level":"1.2.1.1","depth":3,"path":"modules/infrastructure/operating-systems.md","ref":"modules/infrastructure/operating-systems.md","articles":[]},{"title":"HTTP","level":"1.2.1.2","depth":3,"path":"modules/infrastructure/http.md","ref":"modules/infrastructure/http.md","articles":[]}]},"dir":"ltr"},"config":{"plugins":["mermaid-full@>=0.5.1","youtube","prism","-highlight","disqus","klipse"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"prism":{"ignore":["graph","eval-js"]},"disqus":{"useIdentifier":false,"shortName":"techbootcamp"},"youtube":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"mermaid-full":{},"klipse":{"myConfigKey":"it's the default value"},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"gitbook":"*"},"file":{"path":"modules/infrastructure/operating-systems.md","mtime":"2018-06-28T14:54:28.634Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2018-06-28T14:55:38.059Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-mermaid-full/mermaidAPI.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-mermaid-full/plugin.js"></script>
        
    
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/URI.js/1.16.1/URI.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-disqus/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

